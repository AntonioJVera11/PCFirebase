<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button (click)="navigateToInicio()"></ion-back-button>
    </ion-buttons>
    <ion-title>Registro de la pieza</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscren>
  <div>
    <!-- Contenedor cuando el registro tiene imagen -->
    <ion-item *ngIf="document.data.foto != undefined">
      <ion-label position="fixed"><strong>Imagen: </strong></ion-label>
      <img [src]="document.data.foto" alt="" width="100px" height="170px" (click)="uploadImagePicker()">
      <ion-button [disabled]="userUID === ''" (click)="deleteFile(document.data.foto)">
        <i class="material-icons">
          delete_sweep
        </i>
      </ion-button>
    </ion-item>
    <!-- Contenedor cuando el registro no tiene imagen -->
    <ion-item *ngIf="document.data.foto == undefined">
      <ion-label position="fixed"><strong>Añadir foto </strong></ion-label>
      <ion-button [disabled]="userUID === ''" (click)="uploadImagePicker()">
        <i class="material-icons">
          add_a_photo
        </i>
      </ion-button>
    </ion-item>
    <!-- Id del registro -->
    <ion-text hidden color="medium">Id: {{ id }}</ion-text>
    <ion-item>
      <ion-label position="floating"><strong>Tipo: </strong></ion-label>
      <ion-input [disabled]="userUID === ''" required [(ngModel)]="document.data.tipo"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"><strong>Modelo: </strong></ion-label>
      <ion-input [disabled]="userUID === ''" required [(ngModel)]="document.data.modelo"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"><strong>Fecha de lanzamiento: </strong></ion-label>
      <ion-datetime [disabled]="userUID === ''" required [(ngModel)]="document.data.fechalanzamiento"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label position="floating"><strong>Precio: </strong></ion-label>
      <ion-input type="number" [disabled]="userUID === ''" required [(ngModel)]="document.data.precio"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"><strong>Valoración: </strong></ion-label>
      <ion-input [disabled]="userUID === ''" required [(ngModel)]="document.data.valoracion"></ion-input>
    </ion-item>
    <br>
    <div>
      <!-- Botones de manipulación del registro -->
      <ion-buttons>
        <ion-button *ngIf="id == 'nuevo' && userUID !== ''" (click)="alertaInsertar()">
          <ion-icon name="save"></ion-icon>
        </ion-button>
        <ion-button *ngIf="id != 'nuevo' && userUID !== ''" (click)="alertaModificar()">
          <ion-icon name="save"></ion-icon>
        </ion-button>
        <ion-button *ngIf="userUID !== ''" (click)="alertaBorrar()">
          <ion-icon name="trash"></ion-icon>
        </ion-button>
      </ion-buttons>
      <p><strong>Comparte en tus redes sociales</strong></p>
      <!-- Botones para compartir -->
      <ion-buttons slot="end">
        <ion-button (click)="regularShare()">
          <ion-icon name="share"></ion-icon>
        </ion-button>
        <ion-button (click)="whatsappShare()">
          <ion-icon name="logo-whatsapp"></ion-icon>
        </ion-button>
        <ion-button (click)="twitterShare()">
          <ion-icon name="logo-twitter"></ion-icon>
        </ion-button>
      </ion-buttons>
    </div>
  </div>
</ion-content>